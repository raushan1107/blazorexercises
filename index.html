<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Blazor Hands-On Course</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

<style>
body {
    margin: 0;
    font-family: 'Inter', sans-serif;
    background: #f4f7fa;
    color: #333;
}

header {
    background: linear-gradient(135deg, #512bd4, #0078d4);
    color: white;
    padding: 60px 20px;
    text-align: center;
}

header h1 {
    margin: 0;
    font-size: 40px;
}

.container {
    max-width: 1000px;
    margin: 40px auto;
    padding: 20px;
}

.card {
    background: white;
    border-radius: 12px;
    padding: 25px;
    margin-bottom: 25px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.05);
}

details {
    margin-top: 15px;
}

summary {
    font-weight: 600;
    cursor: pointer;
    padding: 10px;
    background: #eef2ff;
    border-radius: 6px;
}

.code-container {
    position: relative;
    margin-top: 10px;
}

pre {
    background: #1e1e1e;
    color: #d4d4d4;
    padding: 15px;
    overflow-x: auto;
    border-radius: 8px;
}

button.copy-btn {
    position: absolute;
    top: 10px;
    right: 10px;
    background: #512bd4;
    color: white;
    border: none;
    padding: 5px 10px;
    font-size: 12px;
    border-radius: 4px;
    cursor: pointer;
}

button.copy-btn:hover {
    background: #3f1fa8;
}

.footer {
    text-align: center;
    padding: 30px;
    background: #1f2937;
    color: white;
}

.quiz {
    background: #fff4e5;
    padding: 20px;
    border-radius: 10px;
}
</style>
</head>

<body>

<header>
    <h1>Blazor Hands-On Course</h1>
    <p>Interactive Learning | Real Projects | Step-by-Step</p>
</header>

<div class="container">

<!-- EXERCISE 1 -->
<div class="card">
<h2>Exercise 1 – Create Your First Blazor App</h2>

<details>
<summary>Step 1 – Create Blazor Server App</summary>

<div class="code-container">
<button class="copy-btn" onclick="copyCode(this)">Copy</button>
<pre>
dotnet new blazorserver -n FirstBlazorApp
cd FirstBlazorApp
dotnet run
</pre>
</div>

<p>Open https://localhost:5001 and explore the template.</p>
</details>

<details>
<summary>Step 2 – Modify Counter Component</summary>

<div class="code-container">
<button class="copy-btn" onclick="copyCode(this)">Copy</button>
<pre>
@page "/counter"

<h3>Counter</h3>
<p>Current count: @count</p>

<input @bind="name" placeholder="Enter name" />
<p>Hello @name</p>

<button @onclick="Increment">Click</button>

@code {
    int count = 0;
    string name = "";

    void Increment()
    {
        count++;
    }
}
</pre>
</div>

</details>

</div>

<!-- EXERCISE 2 -->
<div class="card">
<h2>Exercise 2 – Build Simple Todo App</h2>

<details>
<summary>Create Todo Model</summary>

<div class="code-container">
<button class="copy-btn" onclick="copyCode(this)">Copy</button>
<pre>
public class TodoItem
{
    public string Title { get; set; }
    public bool IsCompleted { get; set; }
}
</pre>
</div>

</details>

<details>
<summary>Create Todo Page</summary>

<div class="code-container">
<button class="copy-btn" onclick="copyCode(this)">Copy</button>
<pre>
@page "/todo"

<h3>Todo List</h3>

<input @bind="newTask" />
<button @onclick="AddTask">Add</button>

<ul>
@foreach(var item in todos)
{
    <li>
        <input type="checkbox" @bind="item.IsCompleted" />
        @item.Title
    </li>
}
</ul>

@code {
    string newTask;
    List<TodoItem> todos = new();

    void AddTask()
    {
        todos.Add(new TodoItem { Title = newTask });
        newTask = "";
    }
}
</pre>
</div>

</details>

</div>

<!-- EXERCISE 3 -->
<div class="card">
<h2>Exercise 3 – Real-Time Todo with SignalR</h2>

<details>
<summary>Create Shared Service</summary>

<div class="code-container">
<button class="copy-btn" onclick="copyCode(this)">Copy</button>
<pre>
public class TodoService
{
    public List<TodoItem> Todos { get; } = new();

    public event Action OnChange;

    public void Add(string title)
    {
        Todos.Add(new TodoItem { Title = title });
        OnChange?.Invoke();
    }
}
</pre>
</div>

</details>

<details>
<summary>Register Service in Program.cs</summary>

<div class="code-container">
<button class="copy-btn" onclick="copyCode(this)">Copy</button>
<pre>
builder.Services.AddSingleton<TodoService>();
</pre>
</div>

</details>

<details>
<summary>Use Service in Page</summary>

<div class="code-container">
<button class="copy-btn" onclick="copyCode(this)">Copy</button>
<pre>
@inject TodoService todoService

@foreach(var item in todoService.Todos)
{
    <li>@item.Title</li>
}
</pre>
</div>

</details>

<p>Open two browsers and see real-time sync working.</p>

</div>

<!-- QUIZ -->
<div class="card quiz">
<h2>End of Module Test</h2>

<ol>
<li>What is the main difference between Blazor Server and WebAssembly?</li>
<li>What lifecycle method runs only once?</li>
<li>What does @bind do?</li>
<li>Why does Blazor Server use SignalR?</li>
<li>Where is Dependency Injection configured?</li>
<li>What file acts as entry point in Blazor Server?</li>
<li>What is a Razor Component?</li>
<li>How do you register a service as Singleton?</li>
<li>How do you create a route in Blazor?</li>
<li>What happens if SignalR disconnects?</li>
</ol>

<p><strong>Bonus Task:</strong> Extend the Todo app to allow deleting tasks.</p>

</div>

<div class="card">
<h2>More Exercises Coming Soon</h2>
</div>

</div>

<div class="footer">
© Blazor Learning with Raushan | Hands-On Learning Journey
</div>

<script>
function copyCode(button) {
    const codeBlock = button.parentElement.querySelector("pre");
    navigator.clipboard.writeText(codeBlock.innerText);
    button.innerText = "Copied!";
    setTimeout(() => button.innerText = "Copy", 2000);
}
</script>

</body>
</html>
